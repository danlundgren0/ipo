
<f:layout name="Default" />

This Template is responsible for displaying a single view for a domain object

If you modify this template, do not forget to change the overwrite settings
in /Configuration/ExtensionBuilder/settings.yaml:
  Resources:
    Private:
      Templates:
        Show.html: keep

Otherwise your changes will be overwritten the next time you save the extension in the extension builder

<f:section name="main">
<input type="hidden" id="reportPid" value="{reportPid}" />
<div class="contaier">
  <f:if condition="{errorCode}!=''">
    <div class="alert alert-danger" role="alert">
      <f:translate key="label.errorMess.{errorCode}"></f:translate>
    </div>
  </f:if>
  <div class="col-md-12">
    <div class="row">
      <f:comment>
        <div class="alert alert-danger" role="alert">HÃ¤r ska visa saved state meddelanden</div>
      </f:comment>
      <div class="col-md-6">        
        <span>{errorMess}</span>
        <h1>{controlPoint.header}</h1>
        <div>{controlPoint.description}</div>
        <input type="hidden" value="{controlPoint.uid}" id="cpUid" />
      </div>
      <div class="col-md-6">
        <img src="{controlPoint.image.originalResource.publicUrl}" class="img-responsive" />
      </div>
    </div>
    <div class="tab-container">
      <ul class="nav nav-tabs" role="tablist">
        <f:for each="{controlPoint.questions}" as="question" iteration="tIt">        
          <f:if condition="{tIt.isFirst}">
            <f:then>
              <li role="presentation" class="active"><a href="#uid_{question.uid}" aria-controls="uid_{question.uid}" role="tab" data-toggle="tab" data-isloaded="true"  data-trigger-cpuid="{controlPoint.uid}" data-trigger-quid="{question.uid}">{question.header}</a></li>
            </f:then>
            <f:else>
              <li role="presentation"><a href="#uid_{question.uid}" aria-controls="uid_{question.uid}" role="tab" data-toggle="tab" data-isloaded="false" data-trigger-cpuid="{controlPoint.uid}" data-trigger-quid="{question.uid}">{question.header}</a></li>
            </f:else>
          </f:if>
        </f:for>  
      </ul>
      <div class="tab-content question">      
          <f:for each="{controlPoint.questions}" as="question" iteration="qIt">
            <f:if condition="{question.header} != ''">        
                    <f:if condition="{qIt.isFirst}">
                      <f:then>
                        <div role="tabpanel" class="tab-pane active in fade" data-target-cpuid="{controlPoint.uid}" data-target-quid="{question.uid}" id="uid_{question.uid}">
                      </f:then>
                      <f:else>
                        <div role="tabpanel" class="tab-pane fade" data-target-cpuid="{controlPoint.uid}" data-target-quid="{question.uid}" id="uid_{question.uid}">
                      </f:else>
                    </f:if>
                    <div class="row">
                      <div class="col-md-8">
                        <h1>{question.header}</h1>
                        <div><f:format.html>{question.description}</f:format.html></div>
                        <input type="hidden" value="{question.uid}" class="qUid" />
                        <f:render partial="Report/NewNote" arguments="{question:question, controlPoint:controlPoint, reportWithVersion:reportWithVersion}" />
                        <div class="unposted-notes"></div>
                        <div class="posted-notes"></div>
                        <div class="oldNotes">
                          <f:for each="{unPostedReport.notes}" as="note">            
                            <f:if condition="{note.question} == {question.uid}">
                                <f:debug>{note}</f:debug>
                                <div>note.question: {note.question} question.uid: {question.uid}</div>
                                <f:render partial="Report/ReportedNote" arguments="{nextVersion:nextVersion, question:question, controlPoint:controlPoint, reportWithVersion:reportWithVersion, note:note}" />
                            </f:if>
                          </f:for>
                        </div> 
                      </div>
                    <div class="col-md-4">
                      <img src="{question.image.originalResource.publicUrl}" width="554" height="332" class="img-responsive" />
                    </div>
                  </div></div> <!-- tabpanel end-div -->
            </f:if>     
          </f:for>
        </div>
    </div>
    <div class="postedNotes col-md-8">
      <div class="save-fixed-btn">
        <button type="button" class="btn btn-success hidden">Spara</button>
      </div>
      <f:for each="{postedReports}" as="report">
        <f:for each="{report.notes}" as="note">
          <f:if condition="{note.controlPoint.uid} == {controlPoint.uid}">
              <f:if condition="{note.isComplete}==''">
                <f:render partial="Report/ReportedNote" arguments="{nextVersion:nextVersion, question:question, controlPoint:controlPoint, reportWithVersion:reportWithVersion, note:note}" />
              </f:if>
          </f:if>
        </f:for>
      </f:for>
    </div>
    <div class="unpostedNotes col-md-4">
      <button type="button" class="btn btn-info btn-ip-post-report hidden" data-type="post" data-reportuid="{reportWithVersion.uid}" aria-pressed="false">Skicka in rapport</button>
    </div>
  </div>
</div>
<f:flashMessages />
</f:section>